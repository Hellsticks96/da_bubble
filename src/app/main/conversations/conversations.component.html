<main>
    <section class="workspace">
        <div class="logo">
            <img src="../../../assets/img/devspace/background.png">
            <img src="../../../assets/img/devspace/devspace.svg">
        </div>
        <h2>Devspace</h2>
        <button class="new-message" mat-icon-button>
            <img src="../../../assets/img/icons/edit_square.svg">
        </button>
    </section>
    <mat-expansion-panel togglePosition="before" expanded="true" class="channels">
        <mat-expansion-panel-header>
            <mat-panel-title>
                <div>
                    <img src="../../../assets/img/icons/workspaces.svg">
                    <h3>Channels</h3>
                </div>
                <button mat-icon-button class="add" (click)="openDialog()">
                    <img src="../../../assets/img/icons/add.svg">
                </button>
                <!-- TODO: fix bug channels closing on openDialog (stopPropagation) -->
            </mat-panel-title>
        </mat-expansion-panel-header>

        <mat-button-toggle-group vertical="true" hideSingleSelectionIndicator="true" class="channel-list">
            <mat-button-toggle (click)="chatService.openChannel(channel.id)" class="channel" value="{{ channel.id }}" *ngFor="let channel of channelsList">
                <img src="../../../assets/img/icons/tag.svg">
                <h3>{{ channel.id }}</h3>
            </mat-button-toggle>
        </mat-button-toggle-group>
        <div class="new-channel" (click)="openDialog()">
            <img src="../../../assets/img/icons/add_circle.svg">
            <span>Channel hinzuf√ºgen</span>
        </div>
    </mat-expansion-panel>
    <mat-expansion-panel togglePosition="before" expanded="true" class="directmessages">
        <mat-expansion-panel-header>
            <mat-panel-title>
                <div>
                    <img src="../../../assets/img/icons/account_circle.svg">
                    <h3>Direktnachrichten</h3>
                </div>
            </mat-panel-title>
        </mat-expansion-panel-header>
        <mat-button-toggle-group class="contact-list" vertical="true" hideSingleSelectionIndicator="true">
            <mat-button-toggle class="contact" *ngFor="let user of usersList">
                <div>
                    <img src="../../../assets/img/avatar/{{ user.avatar }}.svg">
                    @if(user.online) {
                    <img src="../../../assets/img/icons/online.svg">
                    } @else {
                    <img src="../../../assets/img/icons/offline.svg">
                    }
                </div>
                <span>{{ user.name }}</span>
            </mat-button-toggle>
        </mat-button-toggle-group>
    </mat-expansion-panel>
</main>